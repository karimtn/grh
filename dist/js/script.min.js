/*
 Gestion-rh - v 0.0.1 - 2015-07-28 7:40:15
 Edited by Mohamed Karim Bchini - mohkarb@gmail.com 
*/
var app=angular.module("grh-admin",["ngRoute","ngResource"]);app.config(function(a){a.when("/",{templateUrl:"views/login.html",title:"Authentification"}),a.when("/home",{templateUrl:"views/home.html",title:"Home"}),a.when("/people-directory",{templateUrl:"views/directory.html",title:"People directory"}),a.when("/jobs-manager",{templateUrl:"views/jobs.html",title:"Jobs manager"}),a.when("/statistics",{templateUrl:"views/statistics.html",title:"Statistics"}),a.otherwise({redirectTo:"/"})}),app.run(["$rootScope",function(a){a.$on("$routeChangeSuccess",function(b,c,d){a.title=c.$$route.title})}]),app.controller("directoryController",function(a,b,c,d){a.companies=[{name:"Volvo",value:"volvo"},{name:"Saab",value:"saab"},{name:"Opel",value:"opel"},{name:"Audi",value:"audi"}],a.showDepartement=function(b){d.get("department/"+b).then(function(b){a.departments=b})},a.showEmployee=function(b){d.get("employee/"+b).then(function(b){a.employees=b})}}),app.constant("authUrl","http://127.0.0.1/epreuve/test/source/api/auth").controller("AuthController",function(a,b,c,d,e){a.doLogin=function(b){e.post("auth",{customer:b}).then(function(b){"error"==b.status?a.authenticationError=b:"success"==b.status&&(a.username=b.name,c.path("/people-directory"))})}}),app.controller("NavigationCtrl",["$scope","$location",function(a,b){a.isActive=function(a){var c=a===b.path();return c}}]),app.factory("Data",["$http",function(a){var b="api/",c={};return c.get=function(c){return a.get(b+c).then(function(a){return a.data})},c.post=function(c,d){return a.post(b+c,d).then(function(a){return a.data})},c.put=function(c,d){return a.put(b+c,d).then(function(a){return a.data})},c["delete"]=function(c){return a["delete"](b+c).then(function(a){return a.data})},c}]);